![[Pasted image 20251220174814.png]]

## AWS serverless platform
Includes fully managed services that are tightly integrated with AWS Lambda and well-suited for serverless applications
- Developer tools, including AWS Serverless Application Model (AWS SAM)
- Helps simplify deployment of Lambda functions and serverless apps
- AWS Lambda is the compute service for serverless
![[Pasted image 20251220175739.png]]

# AWS Lambda
- Is a compute service
- Can **run code** without provisioning or maintaining servers
- **Initiates functions** in response to events
- **Scales** automatically
- Provides built-in code **monitoring & logging** via Amazon CloudWatch

## AWS Lambda features
- #### Bring own code
	- Write code using languages already know
	- Port code I/O of AWS
- #### Integrates with & extends other AWS services
	- Calling AWS SDK, invoking APIs
	- Whether on AWS, in a datacenter or on the internet
- #### Flexible resource and concurrency
	- Scales in response to events
	- Only configure memory settings
	- AWS handles details such as CPU, network, I/O
- #### Flexible permissions model
	- Uses AWS Identity & Access Management (IAM) to securely grant access to resources
	- Provide fine-grained control to invoke functions
- #### Availability and fault tolerance are built in
	- Lambda is a fully managed service
	- HIgh availability & fault tolerance are built into the service
- #### Pay for value
	- Lambda functions only run when initiated
	- Pay only for the compute time that being consumed
	- When code is invoked, billed in 1ms increments
## Event-driven architectures
- Uses events to initiate actions and communication between decoupled services
- An event is a change in state, a user request, or an update
- When an event occurs, the information is published for other services to consume it

- In event-driven architectures, events are the primary mechanism for sharing info across services
- These are observable, such as a new message in a log, rather than directed, such as a command to do something
## Producers, routers, consumers
AWS Lambda is an example of an event-driven architecture
- Most AWS services generate events and act as an event source for Lambda
- Lambda runs custom code (functions) in response to events
- Lambda functions are designed to process these events and, once invoked, initiate other actions or events
![[Pasted image 20251220190951.png]]
## What is a Lambda function
- The code on AWS Lambda is called a _Lambda function_
- Lambda functions are _stateless_, with no affinity to the underlying infrastructure
- Lambda can launch as many copies of the function as needed to scale to the rate of incoming events
![[Pasted image 20251220192035.png]]

# How AWS Lambda Works
## Invocation models for running Lambda functions
- Event sources can invoke a Lambda function in three general patterns --> Called invocation models
- Invocation model depends on the event source being used
- #### Synchronous invocation
	- Lambda runs the function and waits for a response
	- When function completes, Lambda returns the response from the function's code with additional data
	- Synchronous events expect an immediate response from the function invocation
	- There are no built-in retries --> Manage retry strategy within the app code
- #### Asynchronous invocation
	- Events are queued and the requestor doesn't wait for the function to complete
	- This model is appropriate when the client doesn't need an immediate response
	- Can make use of destinations to send records of async invocations to other services
- #### Polling invocation
	- Designed to integrate with AWS streaming and queuing based services with no code or server management
	- Lambda will poll these services, retrieve any matching events, and invoke functions
	- The retry behavior varies depending on the event source and its configuration

## Invocation model error behavior
![[Pasted image 20251220194538.png]]

## Lambda execution environment
## Execution environment lifecycle
Lambda uses config info to set up the execution environment
- #### Init phase
	- Happens during the first invocation or before function invocations
		- 1. Extension init - starts all extensions
		- 2. Runtime init - bootstraps the runtime
		- 3. Function init - runs the function's static code
	- 